:root{
  --bg1: #ffb7c5;        /* fallback pink */
  --bg2: #ffdde4;        /* fallback light pink */
  --btn: #ff4d6d;
  --btnHover: #ff2f58;
  --text: #2b1b1f;

  --card: rgba(255,255,255,.78);
  --shadow: 0 18px 60px rgba(0,0,0,.18);
  --radius: 22px;

  --maxw: 720px;
}

*{ box-sizing: border-box; }
html, body{ height: 100%; margin: 0; }
body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  overflow: hidden; /* prevents float emojis from making scrollbars */
}

/* Full-screen gradient background */
#bg{
  position: fixed;
  inset: 0;
  z-index: 0;
  background: radial-gradient(1200px 800px at 30% 20%, rgba(255,255,255,.45), transparent 60%),
              linear-gradient(135deg, var(--bg1), var(--bg2));
}

/* Center the app/card */
#app.card{
  position: relative;
  z-index: 1;
  min-height: 100vh;
  display: grid;
  place-items: center;
  padding: 28px 16px;
}

/* Actual card content wrapper (use <main class="card" id="app"> already in your HTML) */
#app{
  width: min(var(--maxw), 92vw);
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  padding: 28px 22px;
}

/* Titles */
#title{
  margin: 0 0 6px 0;
  text-align: center;
  font-weight: 800;
  letter-spacing: .2px;
  font-size: clamp(28px, 4vw, 44px);
}
#subtitle{
  margin: 0 0 16px 0;
  text-align: center;
  opacity: .75;
  font-size: clamp(14px, 2vw, 18px);
}
.muted{ opacity: .75; }

/* Stage content big + centered */
.stage{
  text-align: center;
  margin: 8px auto 18px;
  padding: 10px 6px;
}
.big{
  font-size: clamp(26px, 4.2vw, 46px);
  font-weight: 800;
  line-height: 1.05;
}
.small{
  margin-top: 10px;
  font-size: clamp(14px, 2.1vw, 18px);
  opacity: .75;
}

/* Controls stay stable */
.controls{
  display: flex;
  justify-content: center;
  gap: 14px;
  flex-wrap: wrap;
  position: relative;
  min-height: 56px; /* keeps layout from jumping when No moves */
}

/* Buttons */
.btn{
  appearance: none;
  border: 0;
  cursor: pointer;
  padding: 14px 18px;
  border-radius: 999px;
  font-weight: 800;
  font-size: 16px;
  color: white;
  background: var(--btn);
  box-shadow: 0 10px 22px rgba(255,77,109,.35);
  transition: transform .12s ease, filter .12s ease, background .12s ease;
  user-select: none;
  min-width: 140px;
}
.btn:hover{ background: var(--btnHover); transform: translateY(-1px); }
.btn:active{ transform: translateY(1px) scale(.99); }

.btn.danger{
  background: #2b1b1f;
  box-shadow: 0 10px 22px rgba(0,0,0,.25);
}
.btn.danger:hover{ filter: brightness(1.08); }

/* Range meter (step 2) */
.meter{
  display: grid;
  gap: 10px;
  justify-items: center;
  margin-top: 10px;
}
input[type="range"]{
  width: min(520px, 84vw);
}

/* Pop animation */
.pop{ animation: pop .22s ease; }
@keyframes pop{
  from{ transform: scale(.98); opacity: .7; }
  to{ transform: scale(1); opacity: 1; }
}

/* Floating emojis */
.float{
  position: fixed;
  z-index: 0;
  bottom: -40px;
  font-size: 26px;
  opacity: .9;
  pointer-events: none;
  animation-name: floatUp;
  animation-timing-function: linear;
  will-change: transform, opacity;
}
@keyframes floatUp{
  0%   { transform: translate3d(0,0,0) rotate(0deg); opacity: 0; }
  10%  { opacity: .9; }
  100% { transform: translate3d(var(--drift), -110vh, 0) rotate(var(--rot)); opacity: 0; }
}

/* Music gate */
.musicGate{
  position: fixed;
  inset: 0;
  z-index: 5;
  display: grid;
  place-items: center;
  background: rgba(0,0,0,.25);
  backdrop-filter: blur(6px);
}
.hidden{ display: none !important; }
